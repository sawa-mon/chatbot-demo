{"ast":null,"code":"var _jsxFileName = \"/Users/sawadamakoto/PC/Github/chatbot-demo/src/App.jsx\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport defaultDataset from \"./dataset\";\nimport './assets/styles/style.css';\nimport { AnswersList, Chats } from \"./components/index\";\nimport FormDialog from './components/Forms/FormDialog';\nimport { Loading } from './components/Loading';\n\nconst App = () => {\n  const [answers, setAnswers] = useState([]);\n  const [chats, setChats] = useState([]);\n  const [currentId, setCurrentId] = useState(\"init\");\n  const dataset = defaultDataset;\n  const [open, setOpen] = useState(false);\n  const [noneDisplay, setNoneDisplay] = useState(false);\n\n  const displayNextQuestion = (nextQuestionId, nextDataset) => {\n    addChats({\n      text: nextDataset.question,\n      type: 'question'\n    });\n    setAnswers(nextDataset.answers);\n    setCurrentId(nextQuestionId);\n  };\n\n  const selectAnswer = (selectedAnswer, nextQuestionId) => {\n    switch (true) {\n      case nextQuestionId === 'init':\n        setNoneDisplay(true);\n        setTimeout(() => displayNextQuestion(nextQuestionId, dataset[nextQuestionId]), 1000);\n        break;\n\n      case nextQuestionId === 'contact':\n        handleOpen();\n        break;\n\n      case /^https:*/.test(nextQuestionId):\n        const a = document.createElement('a');\n        a.href = nextQuestionId;\n        a.target = '_blank';\n        a.click();\n        setNoneDisplay(false);\n        break;\n\n      default:\n        addChats({\n          text: selectedAnswer,\n          type: 'answer'\n        });\n        setNoneDisplay(true);\n        setTimeout(() => displayNextQuestion(nextQuestionId, dataset[nextQuestionId]), 1200);\n        break;\n    }\n  };\n\n  const addChats = chat => {\n    setChats(prevChats => {\n      setNoneDisplay(false);\n      return [...prevChats, chat];\n    });\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = useCallback(() => {\n    setOpen(false);\n  }, [setOpen]);\n  useEffect(() => {\n    const initAnswer = \"\";\n    selectAnswer(initAnswer, currentId);\n  }, []);\n  useEffect(() => {\n    const scrollArea = document.getElementById('scroll-area');\n\n    if (scrollArea) {\n      scrollArea.scrollTop = scrollArea.scrollHeight;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"c-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"c-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Chats, {\n    chats: chats,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), !noneDisplay ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(AnswersList, {\n    answers: answers,\n    select: selectAnswer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormDialog, {\n    open: open,\n    handleOpen: handleOpen,\n    handleClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/sawadamakoto/PC/Github/chatbot-demo/src/App.jsx"],"names":["React","useState","useEffect","useCallback","defaultDataset","AnswersList","Chats","FormDialog","Loading","App","answers","setAnswers","chats","setChats","currentId","setCurrentId","dataset","open","setOpen","noneDisplay","setNoneDisplay","displayNextQuestion","nextQuestionId","nextDataset","addChats","text","question","type","selectAnswer","selectedAnswer","setTimeout","handleOpen","test","a","document","createElement","href","target","click","chat","prevChats","handleClose","initAnswer","scrollArea","getElementById","scrollTop","scrollHeight"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\nimport defaultDataset from \"./dataset\";\nimport './assets/styles/style.css'\nimport { AnswersList, Chats } from \"./components/index\"\nimport FormDialog from './components/Forms/FormDialog';\nimport {Loading}  from './components/Loading';\n\n\nconst App = () => {\n    const [answers, setAnswers] = useState([]);\n    const [chats, setChats] = useState([]);\n    const [currentId, setCurrentId] = useState(\"init\");\n    const dataset = defaultDataset;\n    const [open, setOpen] = useState(false);\n    const [noneDisplay, setNoneDisplay] = useState(false);\n\n  const displayNextQuestion = (nextQuestionId, nextDataset) => {\n      addChats({\n        text: nextDataset.question,\n        type: 'question'\n      })\n\n        setAnswers(nextDataset.answers)\n        setCurrentId(nextQuestionId)\n    }\n\n  const selectAnswer = (selectedAnswer, nextQuestionId) => {\n    switch(true) {\n\n      case (nextQuestionId === 'init'):\n        setNoneDisplay(true);\n        setTimeout(() => displayNextQuestion(nextQuestionId, dataset[nextQuestionId]), 1000);\n        break;\n\n      case (nextQuestionId === 'contact'):\n        handleOpen();\n        break;\n      \n      case (/^https:*/.test(nextQuestionId)):\n        const a = document.createElement('a');\n        a.href = nextQuestionId;\n        a.target = '_blank';\n        a.click();\n        setNoneDisplay(false);\n        break;\n\n      default:\n        addChats({ \n        text: selectedAnswer,\n        type: 'answer'\n        });\n\n        setNoneDisplay(true);\n        setTimeout(() => (\n          displayNextQuestion(nextQuestionId, dataset[nextQuestionId])\n          ),1200)\n          break;\n        }\n        \n      }\n      \n  const addChats = (chat) => {\n    setChats(prevChats => {\n    setNoneDisplay(false);\n      return [...prevChats, chat]\n    })\n  }\n  \n  const handleOpen = () => {\n    setOpen(true)\n  };\n  \n  const handleClose = useCallback(() => {\n    setOpen(false)\n  }, [setOpen]);\n  \n  useEffect(() => {\n    const initAnswer = \"\";\n    selectAnswer(initAnswer, currentId)\n  },[]);\n  \n  \n  useEffect(() => {\n    const scrollArea = document.getElementById('scroll-area')\n    if(scrollArea) {\n      scrollArea.scrollTop = scrollArea.scrollHeight\n    }\n  })\n\n  return (\n    <section className=\"c-section\">\n      <div className=\"c-box\">\n        <Chats chats={chats} />\n        {!noneDisplay ? (\n          <Loading/>\n          ) : (\n\n          <AnswersList answers={answers} select={selectAnswer} />\n        )}\n        <FormDialog open={open} handleOpen={handleOpen} handleClose={handleClose} />\n      </div>\n    </section>\n    );\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}